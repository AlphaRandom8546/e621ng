<div id='searchform_hide'>
  <%= link_to_function "Show Search Options", "$('#searchform').fadeIn('fast'); $('#searchform_hide').hide();" %>
</div>
<div class='section' id='searchform' style='width:400px;<% unless params[:show] %>display:none;
  <% end %>'>
  <%= simple_form_for(:search, :method => :get, url: post_versions_path, defaults: {required: false}, html: {class: "inline-form"}) do |f| %>
    <%= f.input :updater_name, label: "User", input_html: {value: params[:search][:updater_name], data: {autocomplete: "user"}} %>
    <%= f.input :updater_id, label: "User ID", input_html: {value: params[:search][:updater_id]} %>
    <%= f.input :post_id, label: "Post #", input_html: {value: params[:search][:post_id]} %>
    <%= f.input :reason, label: "Reason", input_html: {value: params[:search][:reason]} %>
    <%= f.input :description, label: "Description", input_html: {value: params[:search][:description]} %>
    <%= f.input :tags, label: "Final Tags", input_html: {value: params[:search][:tags]} %>
    <%= f.input :tags_added, label: "Added Tags", input_html: {value: params[:search][:tags_added]} %>
    <%= f.input :tags_removed, label: "Removed Tags", input_html: {value: params[:search][:tags_removed]} %>
    <%= f.input :locked_tags, label: "Final Locked Tags", input_html: {value: params[:search][:locked_tags]} %>
    <%= f.input :locked_tags_added, label: "Added Locked Tags", input_html: {value: params[:search][:locked_tags_added]} %>
    <%= f.input :locked_tags_removed, label: "Removed Locked Tags", input_html: {value: params[:search][:locked_tags_removed]} %>
    <%= f.input :source, label: "Source", input_html: {value: params[:search][:source]} %>
    <%= f.submit "Search" %>
  <% end %>
  <%= link_to_function "Hide Search Options", "$('#searchform').fadeOut('fast'); $('#searchform_hide').show();" %>
</div>
<% if params[:search].present? %>
  <%= javascript_tag nonce: true do -%>
    $('#searchform_hide').hide();
    $('#searchform').show();
  <% end -%>
<% end %>
